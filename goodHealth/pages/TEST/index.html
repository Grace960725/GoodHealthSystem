<!doctype html>
<html>
<head>
  <title>JavaScript RSA Encryption</title>
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script src="../../js/jsencrypt.min.js"></script>
  <script type="text/javascript">

    // Call this code when the page is done loading.
    $(function() {
      // Run a quick encryption/decryption when they click.
      $('#testme').click(function() {

        // Encrypt with the public key...
        var encrypt = new JSEncrypt();
        encrypt.setPublicKey($('#pubkey').val());
        var encrypted = encrypt.encrypt($('#input').val());

        $.ajax({
          type: "get",
          url: "/goodHealth/php/test/myPhpStub.php",
          data: {
            key: encrypted,
          },
          cache: false,
          dataType: "json",
          success: function(data){
            console.log("end");
          }
        });
//        // Decrypt with the private key...
//        var decrypt = new JSEncrypt();
//        decrypt.setPrivateKey($('#privkey').val());
//        var uncrypted = decrypt.decrypt(encrypted);
//
//        // Now a simple check to see if the round-trip worked.
//        if (uncrypted == $('#input').val()) {
//          alert('It works!!!');
//        }
//        else {
//          alert('Something went wrong....');
//        }
      });
    });
  </script>
</head>
<body>
<label for="privkey">Private Key</label><br/>
<textarea id="privkey" rows="15" cols="65">-----BEGIN RSA PRIVATE KEY-----
MIICWwIBAAKBgQDgZSW86OCONmQu3W+cVSW3roHPgIUxP0tSjPuME13SuToHEmPx
Wu+PpUbd6Ln8hSdFV8Lz0bVXczTPAaqNnIpE4ZQcmU63TQZkzW2uc4R1GaZUNXcL
e5SRlOcV8MXF8l5OgLq0Lca1dvjjUKkcIsHmnP0jjErzwoj6Dsd9h/yQdQIDAQAB
AoGAKCcRRKdrHydub9Bh21iFIkQQqF+39aL8yG2/yUXh4QYR8xgAWDzMZyjM8IJn
XV86MrdMhDJ/P4G27l++9A4R04G+W9wkLoefSq1HOr4eJDQTT9u6dP9GpVHhUElU
kpGGD4AR335yq/EKLkAirpCvLdEgAW30dnE0L7132ohXEBUCQQDyAFiD/bRMhZHe
TcvRbxJAipg90wKfO67k8m1Irq0nEWwvJFdtmCu3ila6WBoZ/AawDDRYFMwsCX1P
aeB9P+ObAkEA7WAUzK/vgxgOMKNpDfKrYmK/okdZvx/rCWasT1rACAoVdqV//8TU
MbsZu5p+gDA9vn2o+lIhydQOzCq6T8tFLwJAZ5WmTbkGt8pkiZcbKuY0FdQ9Hhl4
Adh2ICF0javXCeX3PKZ9lbeQ3tskDFcxtPWflzNiJGGikybssFVNdc8nCQJACORb
gxtoFnoVNf85FTus7d+THCoeE4nHjS+abtKQdPyjtzEV7WfbJw3CNgPgjz6/YV5l
sRLYjy3xa/aByjFsIwJAOuk3Kj2jTTIJgrTED5pwTwt/oIuM1sGbp07oQSeqpSye
H0wVhEoxzJIwfTOHJ3+auYoEYWiCf/vuyjmwJRlGCA==
-----END RSA PRIVATE KEY-----</textarea><br/>
<label for="pubkey">Public Key</label><br/>
<textarea id="pubkey" rows="15" cols="65">-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDgZSW86OCONmQu3W+cVSW3roHP
gIUxP0tSjPuME13SuToHEmPxWu+PpUbd6Ln8hSdFV8Lz0bVXczTPAaqNnIpE4ZQc
mU63TQZkzW2uc4R1GaZUNXcLe5SRlOcV8MXF8l5OgLq0Lca1dvjjUKkcIsHmnP0j
jErzwoj6Dsd9h/yQdQIDAQAB
-----END PUBLIC KEY-----</textarea><br/>
<label for="input">Text to encrypt:</label><br/>
<textarea id="input" name="input" type="text" rows=4 cols=70>This is a test!</textarea><br/>
<input id="testme" type="button" value="Test Me!!!" /><br/>
</body>


<!--<div class="row">-->
  <!--<div class="panel panel-default">-->
    <!--<div class="panel-heading"><h1>Online RSA Key Generator</h1></div>-->
    <!--<div class="panel-body">-->
      <!--<div class="row col-lg-12">-->
        <!--<div class="well">-->
          <!--<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>-->
          <!--&lt;!&ndash; frontpage banner &ndash;&gt;-->
          <!--<ins class="adsbygoogle"-->
               <!--style="display:inline-block;width:728px;height:90px"-->
               <!--data-ad-client="ca-pub-1902035200208763"-->
               <!--data-ad-slot="9043467163"></ins>-->
          <!--<script>-->
            <!--(adsbygoogle = window.adsbygoogle || []).push({});-->
          <!--</script>-->
        <!--</div>-->
      <!--</div>-->
      <!--<div class="col-lg-2">-->
        <!--<div class="btn-group">-->
          <!--<div class="input-group">-->
            <!--<span class="input-group-addon">Key Size</span>-->
            <!--<button class="btn btn-default dropdown-toggle" id="key-size" type="button" data-value="1024"-->
                    <!--data-toggle="dropdown">1024 bit <span class="caret"></span></button>-->
            <!--<ul class="dropdown-menu">-->
              <!--<li><a class="change-key-size" data-value="512" href="#">512 bit</a></li>-->
              <!--<li><a class="change-key-size" data-value="1024" href="#">1024 bit</a></li>-->
              <!--<li><a class="change-key-size" data-value="2048" href="#">2048 bit</a></li>-->
              <!--<li><a class="change-key-size" data-value="4096" href="#">4096 bit</a></li>-->
            <!--</ul>-->
          <!--</div>-->
        <!--</div>-->
        <!--<br>&nbsp;<br>-->
        <!--<button id="generate" class="btn btn-primary">Generate New Keys</button>-->
        <!--<br>&nbsp;<br>-->
        <!--<span><i><small id="time-report"></small></i></span>-->
        <!--<br>&nbsp;<br>-->
        <!--<label for="async-ck"><input id="async-ck" type="checkbox"> Async</label>-->
      <!--</div>-->
      <!--<div class="col-lg-10">-->
        <!--<div class="row">-->
          <!--<div class="col-lg-6">-->
            <!--<label for="privkey">Private Key</label><br/>-->
            <!--<small>-->
              <!--<textarea id="privkey" rows="15" style="width:100%">-&#45;&#45;&#45;&#45;BEGIN RSA PRIVATE KEY-&#45;&#45;&#45;&#45;-->
<!--MIICWwIBAAKBgQDgZSW86OCONmQu3W+cVSW3roHPgIUxP0tSjPuME13SuToHEmPx-->
<!--Wu+PpUbd6Ln8hSdFV8Lz0bVXczTPAaqNnIpE4ZQcmU63TQZkzW2uc4R1GaZUNXcL-->
<!--e5SRlOcV8MXF8l5OgLq0Lca1dvjjUKkcIsHmnP0jjErzwoj6Dsd9h/yQdQIDAQAB-->
<!--AoGAKCcRRKdrHydub9Bh21iFIkQQqF+39aL8yG2/yUXh4QYR8xgAWDzMZyjM8IJn-->
<!--XV86MrdMhDJ/P4G27l++9A4R04G+W9wkLoefSq1HOr4eJDQTT9u6dP9GpVHhUElU-->
<!--kpGGD4AR335yq/EKLkAirpCvLdEgAW30dnE0L7132ohXEBUCQQDyAFiD/bRMhZHe-->
<!--TcvRbxJAipg90wKfO67k8m1Irq0nEWwvJFdtmCu3ila6WBoZ/AawDDRYFMwsCX1P-->
<!--aeB9P+ObAkEA7WAUzK/vgxgOMKNpDfKrYmK/okdZvx/rCWasT1rACAoVdqV//8TU-->
<!--MbsZu5p+gDA9vn2o+lIhydQOzCq6T8tFLwJAZ5WmTbkGt8pkiZcbKuY0FdQ9Hhl4-->
<!--Adh2ICF0javXCeX3PKZ9lbeQ3tskDFcxtPWflzNiJGGikybssFVNdc8nCQJACORb-->
<!--gxtoFnoVNf85FTus7d+THCoeE4nHjS+abtKQdPyjtzEV7WfbJw3CNgPgjz6/YV5l-->
<!--sRLYjy3xa/aByjFsIwJAOuk3Kj2jTTIJgrTED5pwTwt/oIuM1sGbp07oQSeqpSye-->
<!--H0wVhEoxzJIwfTOHJ3+auYoEYWiCf/vuyjmwJRlGCA==-->
<!-- -&#45;&#45;&#45;&#45;END RSA PRIVATE KEY-&#45;&#45;&#45;&#45;</textarea>-->
            <!--</small>-->
          <!--</div>-->
          <!--<div class="col-lg-6">-->
            <!--<label for="pubkey">Public Key</label><br/>-->
            <!--<small><textarea id="pubkey" rows="15" style="width:100%" readonly="readonly">-&#45;&#45;&#45;&#45;BEGIN PUBLIC KEY-&#45;&#45;&#45;&#45;-->
<!--MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDgZSW86OCONmQu3W+cVSW3roHP-->
<!--gIUxP0tSjPuME13SuToHEmPxWu+PpUbd6Ln8hSdFV8Lz0bVXczTPAaqNnIpE4ZQc-->
<!--mU63TQZkzW2uc4R1GaZUNXcLe5SRlOcV8MXF8l5OgLq0Lca1dvjjUKkcIsHmnP0j-->
<!--jErzwoj6Dsd9h/yQdQIDAQAB-->
<!-- -&#45;&#45;&#45;&#45;END PUBLIC KEY-&#45;&#45;&#45;&#45;</textarea></small>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->
<!--<div class="row">-->
  <!--<div class="panel panel-default">-->
    <!--<div class="panel-heading"><h3>RSA Encryption Test</h3></div>-->
    <!--<div class="panel-body">-->
      <!--<div class="col-lg-5">-->
        <!--<label for="input">Text to encrypt:</label><br/>-->
        <!--<textarea id="input" name="input" style="width: 100%" rows="4">This is a test!</textarea>-->
      <!--</div>-->
      <!--<div class="col-lg-2">-->
        <!--<label>&nbsp;</label><br/>-->
        <!--<button id="execute" class="btn btn-primary">Encrypt / Decrypt</button>-->
      <!--</div>-->
      <!--<div class="col-lg-5">-->
        <!--<label for="crypted">Encrypted:</label><br/>-->
        <!--<textarea id="crypted" name="crypted" style="width: 100%" rows="4"></textarea>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->

